# Prototype模式——通过复制生成实例

<img src="asset/sketch.jpg"  width=400  alt="sketch"/>

原型模式（Prototype Pattern）是用于创建重复的对象，同时又能保证性能。这种模式是实现了一个原型接口，该接口用于创建当前对象的克隆。当直接创建对象的代价比较大时，则采用这种模式。

示例程序将字符串放入方框中显示出来或者加上下划线显示出来。

![prototype](asset/prototype.jpg)

## 角色
* **Prototype**（原型接口）：定义一个用于克隆自身的接口，通常包括一个 clone() 方法。
* **ConcretePrototype**（具体原型类）：实现原型接口的具体类，负责实际的克隆操作。这个类需要实现 clone() 方法，通常使用浅拷贝或深拷贝来复制自身。
* **Client**（使用者）：使用原型实例来创建新的对象。客户端调用原型对象的 clone() 方法来创建新的对象，而不是直接使用构造函数。


## 延伸

* 想要调用clone方法，被复制的对象的类必须实现 `java,lang.Cloneable` 接口，不过不论是被复制对象或是其某个父类实现Cloneable接口都可以。
* `clone()` 方法定义在 `java.lang.Object`中，所有Java类都继承了clone方法。
* `Cloneable`接口中并未声明任何方法，只是用来表示“可以使用clone方法进行复制”的，这种接口被称为**标记接口**（marker interface）。
* clone方法所进行的复制是**浅复制**，只是将被复制实例的字段值直接复制到新的实例中，没有考虑字段中所保存的实例内容。例如字段中保存的是数组，则只会复制该数组的引用而非数组内的元素。